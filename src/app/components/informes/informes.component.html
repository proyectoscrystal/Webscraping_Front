<div class="d-flex" id="wrapper">
  <!-- Sidebar -->
  <div id="sidebar-wrapper">
    <div class="menu-container">
      <div class="list-group">
        <ul class="list-unstyled components mb-5">
          <li class="active">
            <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="sel1">
              <img src="./assets/rect.png" alt="" class="imgsel material-icons" />Comparativos<img
                src="./assets/tri.png" alt="" class="imgsel2" />
            </a>
            <ul class="collapse list-unstyled firstitem itemlist" id="homeSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="informePrecios" routerLinkActive="activo">Precio promedio</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="homeSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="informeDescuentos" routerLinkActive="activo">Descuento promedio</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="homeSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="informeNuevos" routerLinkActive="activo">Recien llegados</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="homeSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="informeDescontinuados" routerLinkActive="activo">Descontinuados</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="homeSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="informeSKU" routerLinkActive="activo">Resumen sku</a>
              </li>
            </ul>
          </li>

          <li>
            <a href="#colectionSubmenu" data-toggle="collapse" aria-expanded="false" class="sel1">
              <img src="./assets/rect.png" alt="" class="imgsel" />Productos<img src="./assets/tri.png" alt="imagen"
                class="imgsel2" />
            </a>
            <ul class="collapse list-unstyled firstitem itemlist" id="colectionSubmenu">
              <li class="list-items-container">
                <a routerLink="/informeCategoria" class="sel2">Prendas</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="colectionSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="../productos/general" routerLinkActive="activo">General</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="colectionSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="../productos/informeCatMujer" routerLinkActive="activo">Categoria
                  mujeres</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="colectionSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="../productos/informeCatHombre" routerLinkActive="activo">Categoria
                  hombres</a>
              </li>
            </ul>
            <ul class="collapse list-unstyled itemlist" id="colectionSubmenu">
              <li class="list-items-container">
                <a class="sel2" routerLink="../productos/informeCatKids" routerLinkActive="activo">Categoria kids</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- /#sidebar-wrapper -->

  <div class="contenedor-labels">
    <div class="button-sidebar">
      <button class="btn-sidebar" id="menu-toggle-sidebar">
        <span class="flecha izquierda"></span>
      </button>
    </div>
  </div>

  <!-- Page Content -->
  <div class="container-fluid mt-4 mr-2 ml-2">
    <div class="container-cards">
      <div class="grid">
        <div class="titulo-grid1">
          <h1 class="titulo-h1">{{tituloResumen}}</h1>
        </div>

        <div class="selectTop">
          <select [(ngModel)]="valorSeleccionado" (change)="cambioSemanaMes()" class="form-control">
            <option value="Mes">Mes</option>
            <option value="Semana">Semana</option>
          </select>
        </div>

        <div class="input-grid1">
          <input type="date" [(ngModel)]="inicio" (ngModelChange)="fechaInicio()">
          <input type="date" [(ngModel)]="fin" (ngModelChange)="fechaFin()">

          <svg xmlns="http://www.w3.org/2000/svg" (click)="openModal(template)" width="17" heigth="17"
            xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" version="1.0"
            viewBox="0.0 0.0 180.0 210.0" zoomAndPan="magnify" style="fill:#000000 " role="img"
            aria-label="Illustration of a Funnel" class="hoverSvgFilter svgAlign">
            <g id="__id33_ssutzzo1g">
              <path d="m350 144.09h180v20l-70 90v100l-40-20v-80l-70-90v-20" transform="translate(-350 -144.09)"
                style="fill: inherit"></path>
            </g>
          </svg>
          <br>
          <ng-template #template>
            <div class="modal-header">
              <h4 class="modal-title pull-left">Filtros</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <ul class="list-unstyled components">

                <li class="active">
                  <a href="#filterMArk" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle menu-color">Marca
                  </a>
                  <ul class="collapse list-unstyled" id="filterMArk">

                    <li *ngFor="let origin of originData; let marcaCheck = index">
                      <label class="control control--checkbox">
                        <input class="marca" type="checkbox"  name="{{origin.value}}"
                          (change)="validateCheckFilter($event.target.checked, origin, $event.target.className, $event.target)"
                          id="{{marcaCheck}}" value="{{origin.value !== '' ? validateCheckOrigin(origin.value, marcaCheck) : origin.value}}"/>
                        {{origin.text}}
                      </label>
                    </li>
                  </ul>
                </li>

                <li class="active mt-2">
                  <a href="#filterCategory" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle menu-color">Categoria
                  </a>
                  <ul class="collapse list-unstyled" id="filterCategory">
                    <li *ngFor="let category of categoryData; let categoriaCheck = index">
                      <label class="control control--checkbox">
                        <input class="categoria" type="checkbox" value="{{category.value}}" name="{{category.value}}"
                          (change)="validateCheckFilter($event.target.checked, category, $event.target.className, $event.target)"
                          id="{{categoriaCheck}}" value="{{category.value !== '' ? validateCheckCategory(category.value, categoriaCheck) : category.value}}"/>
                        {{category.text}}
                      </label>
                    </li>
                  </ul>
                </li>

                <li class="active mt-2">
                  <a href="#filterSubCategory" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle menu-color">Sub categoría
                  </a>
                  <ul class="collapse list-unstyled" id="filterSubCategory">
                    <li *ngFor="let subcategory of subCategoryData">
                      <label class="control control--checkbox">

                        <input class="subCategoria" type="checkbox" value="{{subcategory.value}}"
                          name="{{subcategory.value}}"
                          (change)="validateCheckFilter($event.target.checked, subcategory, $event.target.className, $event.target)"
                          id="{{subcategory.value}}" />
                        {{subcategory.text}}
                      </label>
                    </li>
                  </ul>
                </li>

                <li class="active mt-2">
                  <a href="#filterTipoPrenda" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle menu-color">Tipo de prenda
                  </a>
                  <ul class="collapse list-unstyled" id="filterTipoPrenda">
                    <div class="overflow-auto container-scroll">
                      <li *ngFor="let tipoprenda of tipoPrendaData">
                        <label class="control control--checkbox">
                          <input class="tipoPrenda" type="checkbox" value="{{tipoprenda.value}}"
                            name="{{tipoprenda.value}}"
                            (change)="validateCheckFilter($event.target.checked, tipoprenda, $event.target.className, $event.target)"
                            id="{{tipoprenda.value}}" />
                          {{tipoprenda.text}}
                        </label>
                      </li>
                    </div>
                  </ul>
                </li>

                <li class="active mt-2">
                  <a href="#filterColor" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle menu-color">Color
                  </a>
                  <ul class="collapse list-unstyled" id="filterColor">
                    <div class="overflow-auto checkboxAlign">
                      <div *ngFor="let color of colorData">
                        <input class="color colorStyles" type="checkbox" value="{{color.value}}" name="{{color.value}}"
                          title="{{color.text}}"
                          (change)="validateCheckFilter($event.target.checked, color, $event.target.className, $event.target)"
                          id="{{color.value}}" [ngStyle]="{'background': color.hexa}" />
                      </div>
                    </div>
                  </ul>
                </li>

                <li class="active mt-2">
                  <a href="#filterComposicion" data-toggle="collapse" aria-expanded="false"
                    class="dropdown-toggle menu-color">Composición
                  </a>
                  <ul class="collapse list-unstyled" id="filterComposicion">
                    <div class="overflow-auto container-scroll">
                      <li *ngFor="let composicion of composicionData">
                        <label class="control control--checkbox">
                          <input class="composicion" type="checkbox" value="{{composicion.value}}"
                            name="{{composicion.value}}"
                            (change)="validateCheckFilter($event.target.checked, composicion, $event.target.className, $event.target)"
                            id="{{composicion.value}}" />
                          {{composicion.text}}
                        </label>
                      </li>
                    </div>
                  </ul>
                </li>

              </ul>
            </div>
            <div class="modal-footer">
              
                <!-- <button type="button" class="btn btn-secondary" (click)="localStorageAlert()">Mostrar datos</button> -->
                <!-- <button type="button" class="btn btn-secondary" (click)="setCheck()">Setear filtro anterior</button> -->
             
              <button type="button" class="btn btn-danger" (click)="clearFilters()">Limpiar filtros</button>
              <button type="button" class="btn btn-primary" (click)="closeModal()">Aplicar filtros</button>
            </div>
          </ng-template>

        </div>
      </div>
      <!-- inicio cards resumen -->
      <div class="item-filters-top">
        <div *ngFor="let filter of selectedFilter" class="content-filter-item">
          <p class="item-filter">{{filter.item}}</p>
        </div>
      </div>
      <div class="container-cards">
        <div class="card-container">
          <div class="column">
            <div class="card" routerLink="informePrecios" routerLinkActive="activo">
              <img src="../../../assets/money.png" class="IconCards" alt="money" />
              <!--todo hacer dinamico el precio y el porcentaje -->
              <p class="cardsTitles">Precio promedio</p>
              <p class="cardsNumbers">$ {{currency1}}</p>
              <p class="cardsDifferences" [ngClass]="difference1()"> {{priceDifference[0] === 0 ? '-' : '+'}}
                {{priceDifference[1]}}%</p>
              <p class="cardsMes">{{tituloCardActual}}</p>
            </div>
          </div>
          <div class="column">
            <div class="card" routerLink="informeDescuentos" routerLinkActive="activo">
              <img src="../../../assets/discount.png" class="IconCards" alt="discount" />
              <p class="cardsTitles">Descuento promedio</p>
              <p class="cardsNumbers"> {{totalDiscount}}% </p>
              <p class="cardsDifferences" [ngClass]="difference2()"> {{discountDifference[0] === 0 ? '-' : '+'}}
                {{discountDifference[1]}}%</p>
              <p class="cardsMes">{{tituloCardActual}}</p>
            </div>
          </div>
          <div class="column">
            <div class="card" routerLink="informeNuevos" routerLinkActive="activo">
              <img src="../../../assets/new.png" class="IconCards" alt="new" />
              <p class="cardsTitles">Recien llegados</p>
              <p class="cardsNumbers"> {{totalNew}} </p>
              <p class="cardsDifferences" [ngClass]="difference3()"> {{newsDifference[0] === 0 ? '-' : '+'}}
                {{newsDifference[1]}}</p>
              <p class="cardsMes">{{tituloCardActual}}</p>
            </div>
          </div>
          <div class="column">
            <div class="card" routerLink="informeDescontinuados" routerLinkActive="activo">
              <img src="../../../assets/remove.png" class="IconCards" alt="remove" />
              <p class="cardsTitles">Descontinuados</p>
              <p class="cardsNumbers">{{totalDescontinuados}}</p>
              <p class="cardsDifferences" [ngClass]="difference4()">{{discontinuedDifference[0] === 0 ? '-' : '+'}}
                {{discontinuedDifference[1]}}</p>
              <p class="cardsMes">{{tituloCardActual}}</p>
            </div>
          </div>
          <div class="column">
            <div class="card" routerLink="informeSKU" routerLinkActive="activo">
              <img src="../../../assets/sku.png" class="IconCards" alt="sku" />
              <p class="cardsTitles">Resumen de SKU</p>
              <p class="cardsNumbers">{{totalsku}}</p>
              <p class="cardsDifferences" [ngClass]="difference5()">{{skuDifference[0] === 0 ? '-' : '+'}}
                {{skuDifference[1]}}</p>
              <p class="cardsMes">{{tituloCardActual}}</p>
            </div>
          </div>
        </div>
        <!-- fin cards container -->
      </div>

      <!-- routing a los componentes hijos -->


    </div>
    <div class="mr-4 ml-4 mt-4">
      <router-outlet></router-outlet>
    </div>
    <br>
  </div>
  <!-- fin page-content -->
</div>